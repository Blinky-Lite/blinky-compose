{"app":"app20","title":"Blinky-Thermo-Cam","allowedRoles":["appView","app01"],"trayTypes":["blinky-thermo-cam"],"trayUpdateFilter":[{"type":"blinky-thermo-cam"}],"navbar":{"config":{"imageHeight":"75px","centerImage":"/img/thermo.png"}},"cards":[{"type":"CustomCard","config":{"title":"Spectrogram","displayOnOpen":true,"domSetup":"ICAgICAgICAgICAgICAgIHRoaXMudHJheSA9IG51bGw7CiAgICAgICAgICAgICAgICBsZXQgcm93RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICB0aGlzLmNhcmRCb2R5RGl2LmFwcGVuZENoaWxkKHJvd0Rpdik7CiAgICAgICAgICAgICAgICByb3dEaXYuY2xhc3NMaXN0LmFkZCgicm93Iik7CiAgICAgICAgICAgICAgICByb3dEaXYuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICIyNXB4IjsKCiAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICByb3dEaXYuYXBwZW5kQ2hpbGQoY29udGFpbmVyRGl2KTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCJjb250YWluZXItZmx1aWQiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckRpdi5hbGlnbiA9ICJjZW50ZXIiOwoKICAgICAgICAgICAgICAgIGxldCB0YWJsZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRGl2LmFwcGVuZENoaWxkKHRhYmxlMSk7CiAgICAgICAgICAgICAgICB0YWJsZTEud2lkdGggPSAiODAwcHgiOwoKICAgICAgICAgICAgICAgIGxldCB0cjAxMDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpOwogICAgICAgICAgICAgICAgdGFibGUxLmFwcGVuZENoaWxkKHRyMDEwMSk7CgogICAgICAgICAgICAgICAgbGV0IHRkMDEwMTAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgIHRyMDEwMS5hcHBlbmRDaGlsZCh0ZDAxMDEwMSk7CiAgICAgICAgICAgICAgICB0ZDAxMDEwMS5hbGlnbiA9ICJjZW50ZXIiOwoKICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgdGQwMTAxMDEuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyRGl2KTsKICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlckRpdi53aWR0aCA9ICI4MDAiOwogICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyRGl2LmhlaWdodCA9ICI2MDAiOwogICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyRGl2LnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlckRpdi5vbm1vdXNlbGVhdmUgPSBldmVudCA9PiB7dGhpcy5tb3VzZUxlZnRDYW52YXMoKX07CgogICAgICAgICAgICAgICAgdGhpcy5mbGlyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICAgICAgICB0aGlzLmZsaXJDYW52YXMub25tb3VzZW1vdmUgPSBldmVudCA9PiB7dGhpcy5vbk1vdXNlTW92ZShldmVudCl9OwogICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyRGl2LmFwcGVuZENoaWxkKHRoaXMuZmxpckNhbnZhcyk7CiAgICAgICAgICAgICAgICB0aGlzLmZsaXJDYW52YXMud2lkdGggPSAiODAwIjsKICAgICAgICAgICAgICAgIHRoaXMuZmxpckNhbnZhcy5oZWlnaHQgPSAiNjAwIjsKICAgICAgICAgICAgICAgIHRoaXMuZmxpckNhbnZhcy5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkICMwMDAwMDAiOwoKICAgICAgICAgICAgICAgIHRoaXMudGlwQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy50aXBDYW52YXMpOwogICAgICAgICAgICAgICAgdGhpcy50aXBDYW52YXMud2lkdGggPSAiMTI1IjsKICAgICAgICAgICAgICAgIHRoaXMudGlwQ2FudmFzLmhlaWdodCA9ICIzMCI7CiAgICAgICAgICAgICAgICB0aGlzLnRpcENhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CgogICAgICAgICAgICAgICAgdGhpcy50aXBQb2ludGVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy50aXBQb2ludGVyQ2FudmFzKTsKICAgICAgICAgICAgICAgIHRoaXMudGlwUG9pbnRlckNhbnZhcy53aWR0aCA9ICIxMCI7CiAgICAgICAgICAgICAgICB0aGlzLnRpcFBvaW50ZXJDYW52YXMuaGVpZ2h0ID0gIjEwIjsKICAgICAgICAgICAgICAgIHRoaXMudGlwUG9pbnRlckNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CgogICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckZsdWlkMDJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHJvd0Rpdi5hcHBlbmRDaGlsZChjb250YWluZXJGbHVpZDAyRGl2KTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDJEaXYuY2xhc3NMaXN0LmFkZCgiY29udGFpbmVyLWZsdWlkIik7CiAgICAgICAgICAgICAgICBjb250YWluZXJGbHVpZDAyRGl2LmFsaWduID0gImNlbnRlciI7CiAgICAgICAgICAgICAgICBjb250YWluZXJGbHVpZDAyRGl2LnN0eWxlLnBhZGRpbmdUb3AgPSAiMHB4IjsKCiAgICAgICAgICAgICAgICBsZXQgdGFibGUyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDJEaXYuYXBwZW5kQ2hpbGQodGFibGUyKTsKICAgICAgICAgICAgICAgIHRhYmxlMi53aWR0aCA9ICI3OTJweCI7CgogICAgICAgICAgICAgICAgbGV0IHRyMDIwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgICB0YWJsZTIuYXBwZW5kQ2hpbGQodHIwMjAxKTsKCiAgICAgICAgICAgICAgICBsZXQgY29sb3JCb3ggPSBbIiMwMDAwZmYiLCAiIzAwODhmZiIsICIjMDBmZmZmIiwgIiMwMGZmODgiLCAiIzAwZmYwMCIsICIjODhmZjAwIiwgIiNmZmZmMDAiLCAiI2ZmODgwMCIsICIjZmYwMDAwIl07CgogICAgICAgICAgICAgICAgdGhpcy5jb2xvclNjYWxlQm94RGl2ID0gW107CgogICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDk7ICsraWkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRkMDIwMWlpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgICAgICB0cjAyMDEuYXBwZW5kQ2hpbGQodGQwMjAxaWkpOwogICAgICAgICAgICAgICAgICAgIHRkMDIwMWlpLndpZHRoID0gIjg4cHgiOwoKICAgICAgICAgICAgICAgICAgICBsZXQgZGl2Qm94MDIwMWlpID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgIHRkMDIwMWlpLmFwcGVuZENoaWxkKGRpdkJveDAyMDFpaSk7CiAgICAgICAgICAgICAgICAgICAgZGl2Qm94MDIwMWlpLnN0eWxlLndpZHRoID0gIjg4cHgiOwogICAgICAgICAgICAgICAgICAgIGRpdkJveDAyMDFpaS5zdHlsZS5oZWlnaHQgPSAiNTBweCI7CiAgICAgICAgICAgICAgICAgICAgZGl2Qm94MDIwMWlpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yQm94W2lpXTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yU2NhbGVCb3hEaXYucHVzaChkaXZCb3gwMjAxaWkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxldCB0cjAyMDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpOwogICAgICAgICAgICAgICAgdGFibGUyLmFwcGVuZENoaWxkKHRyMDIwMik7CgogICAgICAgICAgICAgICAgdGhpcy5jb2xvclNjYWxlQm94U3BhbiA9IFtdOwoKICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCA5OyArK2lpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCB0ZDAyMDJpaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICAgICAgdHIwMjAyLmFwcGVuZENoaWxkKHRkMDIwMmlpKTsKICAgICAgICAgICAgICAgICAgICB0ZDAyMDJpaS53aWR0aCA9ICI4OHB4IjsKICAgICAgICAgICAgICAgICAgICB0ZDAyMDJpaS5hbGlnbiA9ICJjZW50ZXIiOwoKICAgICAgICAgICAgICAgICAgICBsZXQgc3BhbjAyMDJpaSA9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICAgICAgdGQwMjAyaWkuYXBwZW5kQ2hpbGQoc3BhbjAyMDJpaSk7CiAgICAgICAgICAgICAgICAgICAgc3BhbjAyMDJpaS5zdHlsZS5mb250U2l6ZSA9ICIyMDAlIjsKICAgICAgICAgICAgICAgICAgICBzcGFuMDIwMmlpLmlubmVyVGV4dCA9IChpaSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvclNjYWxlQm94U3Bhbi5wdXNoKHNwYW4wMjAyaWkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxldCByb3dEaXYwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwMkRpdi5hcHBlbmRDaGlsZChyb3dEaXYwMSk7CiAgICAgICAgICAgICAgICByb3dEaXYwMS5jbGFzc0xpc3QuYWRkKCJyb3ciKTsKICAgICAgICAgICAgICAgIHJvd0RpdjAxLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAiMTVweCI7CgogICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckZsdWlkMDNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHJvd0RpdjAxLmFwcGVuZENoaWxkKGNvbnRhaW5lckZsdWlkMDNEaXYpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwM0Rpdi5jbGFzc0xpc3QuYWRkKCJjb250YWluZXItZmx1aWQiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDNEaXYuYWxpZ24gPSAiY2VudGVyIjsKCiAgICAgICAgICAgICAgICBsZXQgdGFibGUzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDNEaXYuYXBwZW5kQ2hpbGQodGFibGUzKTsKICAgICAgICAgICAgICAgIHRhYmxlMy53aWR0aCA9ICIxMDAlIjsKCiAgICAgICAgICAgICAgICBsZXQgdHIwMzAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICAgICAgICAgIHRhYmxlMy5hcHBlbmRDaGlsZCh0cjAzMDEpOwoKICAgICAgICAgICAgICAgIGxldCB0ZDAzMDEwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjAzMDEuYXBwZW5kQ2hpbGQodGQwMzAxMDEpOwogICAgICAgICAgICAgICAgdGQwMzAxMDEud2lkdGggPSAiMjAlIjsKICAgICAgICAgICAgICAgIHRkMDMwMTAxLmFsaWduID0gImxlZnQiOwoKICAgICAgICAgICAgICAgIGxldCB0ZDAzMDEwMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjAzMDEuYXBwZW5kQ2hpbGQodGQwMzAxMDIpOwogICAgICAgICAgICAgICAgdGQwMzAxMDIud2lkdGggPSAiNjAlIjsKICAgICAgICAgICAgICAgIHRkMDMwMTAyLmFsaWduID0gImNlbnRlciI7CgogICAgICAgICAgICAgICAgdGhpcy5tYW51YWxUcmlnZ2VyQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7IAogICAgICAgICAgICAgICAgdGQwMzAxMDIuYXBwZW5kQ2hpbGQodGhpcy5tYW51YWxUcmlnZ2VyQnV0dG9uKTsKICAgICAgICAgICAgICAgIHRoaXMubWFudWFsVHJpZ2dlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJidG4iKTsKICAgICAgICAgICAgICAgIHRoaXMubWFudWFsVHJpZ2dlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJidG4tYmxvY2siKTsKICAgICAgICAgICAgICAgIHRoaXMubWFudWFsVHJpZ2dlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJjYXJkLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgdGhpcy5tYW51YWxUcmlnZ2VyQnV0dG9uLmNsYXNzTGlzdC5hZGQoImJpZy10ZXh0Iik7CiAgICAgICAgICAgICAgICB0aGlzLm1hbnVhbFRyaWdnZXJCdXR0b24ub25jbGljayA9IGV2ZW50ID0+IHt0aGlzLm1hbnVhbFRyaWdnZXIoKX07CiAgICAgICAgICAgICAgICB0aGlzLm1hbnVhbFRyaWdnZXJCdXR0b24uaW5uZXJUZXh0ID0gIlRha2UgSW1hZ2UiOwoKICAgICAgICAgICAgICAgIGxldCB0ZDAzMDEwMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjAzMDEuYXBwZW5kQ2hpbGQodGQwMzAxMDMpOwogICAgICAgICAgICAgICAgdGQwMzAxMDMud2lkdGggPSAiMjAlIjsKICAgICAgICAgICAgICAgIHRkMDMwMTAzLmFsaWduID0gImxlZnQiOwoKICAgICAgICAgICAgICAgIGxldCByb3dEaXYwMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwMkRpdi5hcHBlbmRDaGlsZChyb3dEaXYwMik7CiAgICAgICAgICAgICAgICByb3dEaXYwMi5jbGFzc0xpc3QuYWRkKCJyb3ciKTsKICAgICAgICAgICAgICAgIHJvd0RpdjAyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAiMTVweCI7CgogICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckZsdWlkMDREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHJvd0RpdjAyLmFwcGVuZENoaWxkKGNvbnRhaW5lckZsdWlkMDREaXYpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwNERpdi5jbGFzc0xpc3QuYWRkKCJjb250YWluZXItZmx1aWQiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDREaXYuYWxpZ24gPSAiY2VudGVyIjsKCiAgICAgICAgICAgICAgICBsZXQgdGFibGU0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDREaXYuYXBwZW5kQ2hpbGQodGFibGU0KTsKICAgICAgICAgICAgICAgIHRhYmxlNC53aWR0aCA9ICIxMDAlIjsKCiAgICAgICAgICAgICAgICBsZXQgdHIwNDAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICAgICAgICAgIHRhYmxlNC5hcHBlbmRDaGlsZCh0cjA0MDEpOwoKICAgICAgICAgICAgICAgIGxldCB0ZDA0MDEwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjA0MDEuYXBwZW5kQ2hpbGQodGQwNDAxMDEpOwogICAgICAgICAgICAgICAgdGQwNDAxMDEud2lkdGggPSAiNDAlIjsKICAgICAgICAgICAgICAgIHRkMDQwMTAxLmFsaWduID0gImxlZnQiOwoKICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICB0ZDA0MDEwMS5hcHBlbmRDaGlsZCh0aGlzLnNlbnNvck5hbWVTcGFuKTsKICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yTmFtZVNwYW4uY2xhc3NMaXN0LmFkZCgiY2FyZC10ZXh0Iik7CiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvck5hbWVTcGFuLmlubmVyVGV4dCA9ICJTZW5zb3IgeHgiOwoKICAgICAgICAgICAgICAgIGxldCB0ZDA0MDEwMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjA0MDEuYXBwZW5kQ2hpbGQodGQwNDAxMDIpOwogICAgICAgICAgICAgICAgdGQwNDAxMDIud2lkdGggPSAiNjAlIjsKICAgICAgICAgICAgICAgIHRkMDQwMTAyLmFsaWduID0gInJpZ2h0IjsKCiAgICAgICAgICAgICAgICB0aGlzLnRpbWVzdGFtcFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICB0ZDA0MDEwMi5hcHBlbmRDaGlsZCh0aGlzLnRpbWVzdGFtcFNwYW4pOwogICAgICAgICAgICAgICAgdGhpcy50aW1lc3RhbXBTcGFuLmNsYXNzTGlzdC5hZGQoImNhcmQtdGV4dCIpOwogICAgICAgICAgICAgICAgdGhpcy50aW1lc3RhbXBTcGFuLmlubmVyVGV4dCA9ICJ0aW1lc3RhbXAiOwoKICAgICAgICAgICAgICAgIGxldCByb3dEaXYwMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwMkRpdi5hcHBlbmRDaGlsZChyb3dEaXYwMyk7CiAgICAgICAgICAgICAgICByb3dEaXYwMy5jbGFzc0xpc3QuYWRkKCJyb3ciKTsKICAgICAgICAgICAgICAgIHJvd0RpdjAzLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAiMTVweCI7CgogICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckZsdWlkMDVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHJvd0RpdjAzLmFwcGVuZENoaWxkKGNvbnRhaW5lckZsdWlkMDVEaXYpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwNURpdi5jbGFzc0xpc3QuYWRkKCJjb250YWluZXItZmx1aWQiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDVEaXYuYWxpZ24gPSAiY2VudGVyIjsKCiAgICAgICAgICAgICAgICBsZXQgdGFibGU1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDVEaXYuYXBwZW5kQ2hpbGQodGFibGU1KTsKICAgICAgICAgICAgICAgIHRhYmxlNS53aWR0aCA9ICIxMDAlIjsKCiAgICAgICAgICAgICAgICBsZXQgdHIwNTAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICAgICAgICAgIHRhYmxlNS5hcHBlbmRDaGlsZCh0cjA1MDEpOwoKICAgICAgICAgICAgICAgIGxldCB0ZDA1MDEwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjA1MDEuYXBwZW5kQ2hpbGQodGQwNTAxMDEpOwogICAgICAgICAgICAgICAgdGQwNTAxMDEud2lkdGggPSAiNjAlIjsKICAgICAgICAgICAgICAgIHRkMDUwMTAxLmFsaWduID0gImxlZnQiOwoKICAgICAgICAgICAgICAgIGxldCBzcGFuMDUwMTAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgdGQwNTAxMDEuYXBwZW5kQ2hpbGQoc3BhbjA1MDEwMSk7CiAgICAgICAgICAgICAgICBzcGFuMDUwMTAxLmNsYXNzTGlzdC5hZGQoImNhcmQtdGV4dCIpOwogICAgICAgICAgICAgICAgc3BhbjA1MDEwMS5pbm5lclRleHQgPSAiQ29sb3IgTW9kZSI7CgogICAgICAgICAgICAgICAgbGV0IHRkMDUwMTAyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgIHRyMDUwMS5hcHBlbmRDaGlsZCh0ZDA1MDEwMik7CiAgICAgICAgICAgICAgICB0ZDA1MDEwMi53aWR0aCA9ICI0MCUiOwoKICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZSA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yU2NhbGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsgCiAgICAgICAgICAgICAgICB0ZDA1MDEwMi5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yU2NhbGVCdXR0b24pOwogICAgICAgICAgICAgICAgdGhpcy5jb2xvclNjYWxlQnV0dG9uLmNsYXNzTGlzdC5hZGQoImJ0biIpOwogICAgICAgICAgICAgICAgdGhpcy5jb2xvclNjYWxlQnV0dG9uLmNsYXNzTGlzdC5hZGQoImJ0bi1ibG9jayIpOwogICAgICAgICAgICAgICAgdGhpcy5jb2xvclNjYWxlQnV0dG9uLmNsYXNzTGlzdC5hZGQoImNhcmQtYnV0dG9uIik7CiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yU2NhbGVCdXR0b24uY2xhc3NMaXN0LmFkZCgiYmlnLXRleHQiKTsKICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZUJ1dHRvbi5vbmNsaWNrID0gZXZlbnQgPT4ge3RoaXMudG9nZ2xlQ29sb3JTY2FsZSgpfTsKICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZUJ1dHRvbi5pbm5lclRleHQgPSAiQ29sb3IiOwoKICAgICAgICAgICAgICAgIGxldCByb3dEaXYwNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwMkRpdi5hcHBlbmRDaGlsZChyb3dEaXYwNCk7CiAgICAgICAgICAgICAgICByb3dEaXYwNC5jbGFzc0xpc3QuYWRkKCJyb3ciKTsKICAgICAgICAgICAgICAgIHJvd0RpdjA0LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAiMTVweCI7CgogICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckZsdWlkMDZEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHJvd0RpdjA0LmFwcGVuZENoaWxkKGNvbnRhaW5lckZsdWlkMDZEaXYpOwogICAgICAgICAgICAgICAgY29udGFpbmVyRmx1aWQwNkRpdi5jbGFzc0xpc3QuYWRkKCJjb250YWluZXItZmx1aWQiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDZEaXYuYWxpZ24gPSAiY2VudGVyIjsKCiAgICAgICAgICAgICAgICBsZXQgdGFibGU2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDZEaXYuYXBwZW5kQ2hpbGQodGFibGU2KTsKICAgICAgICAgICAgICAgIHRhYmxlNi53aWR0aCA9ICIxMDAlIjsKCiAgICAgICAgICAgICAgICBsZXQgdHIwNjAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICAgICAgICAgIHRhYmxlNi5hcHBlbmRDaGlsZCh0cjA2MDEpOwoKICAgICAgICAgICAgICAgIGxldCB0ZDA2MDEwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjA2MDEuYXBwZW5kQ2hpbGQodGQwNjAxMDEpOwogICAgICAgICAgICAgICAgdGQwNjAxMDEud2lkdGggPSAiNjAlIjsKICAgICAgICAgICAgICAgIHRkMDYwMTAxLmFsaWduID0gImxlZnQiOwoKICAgICAgICAgICAgICAgIGxldCBzcGFuMDYwMTAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgdGQwNjAxMDEuYXBwZW5kQ2hpbGQoc3BhbjA2MDEwMSk7CiAgICAgICAgICAgICAgICBzcGFuMDYwMTAxLmNsYXNzTGlzdC5hZGQoImNhcmQtdGV4dCIpOwogICAgICAgICAgICAgICAgc3BhbjA2MDEwMS5pbm5lclRleHQgPSAiRW5oYW5jZW1lbnQgTGV2ZWwiOwoKICAgICAgICAgICAgICAgIGxldCB0ZDA2MDEwMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjA2MDEuYXBwZW5kQ2hpbGQodGQwNjAxMDIpOwogICAgICAgICAgICAgICAgdGQwNjAxMDIud2lkdGggPSAiMTQlIjsKCiAgICAgICAgICAgICAgICBsZXQgYnV0dG9uMDYwMTAyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7IAogICAgICAgICAgICAgICAgdGQwNjAxMDIuYXBwZW5kQ2hpbGQoYnV0dG9uMDYwMTAyKTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwMi5jbGFzc0xpc3QuYWRkKCJidG4iKTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwMi5jbGFzc0xpc3QuYWRkKCJidG4tYmxvY2siKTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwMi5jbGFzc0xpc3QuYWRkKCJjYXJkLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgYnV0dG9uMDYwMTAyLmNsYXNzTGlzdC5hZGQoImJpZy10ZXh0Iik7CiAgICAgICAgICAgICAgICBidXR0b24wNjAxMDIub25jbGljayA9IGV2ZW50ID0+IHt0aGlzLnRvZ2dsZUVuaGFuY2VkU2NhbGUoLTEpfTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwMi5pbm5lclRleHQgPSAiLSI7CgogICAgICAgICAgICAgICAgbGV0IHRkMDYwMTAzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgIHRyMDYwMS5hcHBlbmRDaGlsZCh0ZDA2MDEwMyk7CiAgICAgICAgICAgICAgICB0ZDA2MDEwMy53aWR0aCA9ICIxMiUiOwogICAgICAgICAgICAgICAgdGQwNjAxMDMuYWxpZ24gPSAiY2VudGVyIjsKCiAgICAgICAgICAgICAgICB0aGlzLmVuaGFuY2VtZW50TGV2ZWwgPSAwOwoKICAgICAgICAgICAgICAgIHRoaXMuZW5oYW5jZW1lbnRMZXZlbFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICB0ZDA2MDEwMy5hcHBlbmRDaGlsZCh0aGlzLmVuaGFuY2VtZW50TGV2ZWxTcGFuKTsKICAgICAgICAgICAgICAgIHRoaXMuZW5oYW5jZW1lbnRMZXZlbFNwYW4uY2xhc3NMaXN0LmFkZCgiY2FyZC10ZXh0Iik7CiAgICAgICAgICAgICAgICB0aGlzLmVuaGFuY2VtZW50TGV2ZWxTcGFuLmlubmVyVGV4dCA9IHRoaXMuZW5oYW5jZW1lbnRMZXZlbC50b1N0cmluZygpOwoKICAgICAgICAgICAgICAgIGxldCB0ZDA2MDEwNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0cjA2MDEuYXBwZW5kQ2hpbGQodGQwNjAxMDQpOwogICAgICAgICAgICAgICAgdGQwNjAxMDQud2lkdGggPSAiMTQlIjsKCiAgICAgICAgICAgICAgICBsZXQgYnV0dG9uMDYwMTA0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7IAogICAgICAgICAgICAgICAgdGQwNjAxMDQuYXBwZW5kQ2hpbGQoYnV0dG9uMDYwMTA0KTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwNC5jbGFzc0xpc3QuYWRkKCJidG4iKTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwNC5jbGFzc0xpc3QuYWRkKCJidG4tYmxvY2siKTsKICAgICAgICAgICAgICAgIGJ1dHRvbjA2MDEwNC5jbGFzc0xpc3QuYWRkKCJjYXJkLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgYnV0dG9uMDYwMTA0LmNsYXNzTGlzdC5hZGQoImJpZy10ZXh0Iik7CiAgICAgICAgICAgICAgICBidXR0b24wNjAxMDQub25jbGljayA9IGV2ZW50ID0+IHt0aGlzLnRvZ2dsZUVuaGFuY2VkU2NhbGUoMSl9OwogICAgICAgICAgICAgICAgYnV0dG9uMDYwMTA0LmlubmVyVGV4dCA9ICIrIjsKCiAgICAgICAgICAgICAgICBsZXQgcm93RGl2MDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDJEaXYuYXBwZW5kQ2hpbGQocm93RGl2MDUpOwogICAgICAgICAgICAgICAgcm93RGl2MDUuY2xhc3NMaXN0LmFkZCgicm93Iik7CiAgICAgICAgICAgICAgICByb3dEaXYwNS5zdHlsZS5wYWRkaW5nQm90dG9tID0gIjE1cHgiOwoKICAgICAgICAgICAgICAgIGxldCBjb250YWluZXJGbHVpZDA3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICByb3dEaXYwNS5hcHBlbmRDaGlsZChjb250YWluZXJGbHVpZDA3RGl2KTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lckZsdWlkMDdEaXYuY2xhc3NMaXN0LmFkZCgiY29udGFpbmVyLWZsdWlkIik7CiAgICAgICAgICAgICAgICBjb250YWluZXJGbHVpZDA3RGl2LmFsaWduID0gImNlbnRlciI7CgogICAgICAgICAgICAgICAgbGV0IHRhYmxlNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgICAgICAgICBjb250YWluZXJGbHVpZDA3RGl2LmFwcGVuZENoaWxkKHRhYmxlNyk7CiAgICAgICAgICAgICAgICB0YWJsZTcud2lkdGggPSAiMTAwJSI7CgogICAgICAgICAgICAgICAgbGV0IHRyMDcwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgICB0YWJsZTcuYXBwZW5kQ2hpbGQodHIwNzAxKTsKCiAgICAgICAgICAgICAgICBsZXQgdGQwNzAxMDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwogICAgICAgICAgICAgICAgdHIwNzAxLmFwcGVuZENoaWxkKHRkMDcwMTAxKTsKICAgICAgICAgICAgICAgIHRkMDcwMTAxLndpZHRoID0gIjEwMCUiOwogICAgICAgICAgICAgICAgdGQwNzAxMDEuYWxpZ24gPSAiY2VudGVyIjsKCiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgICAgIHRkMDcwMTAxLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2VMaW5rKTsKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VMaW5rLmNsYXNzTGlzdC5hZGQoImJ0biIpOwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZUxpbmsuY2xhc3NMaXN0LmFkZCgiY2FyZC1idXR0b24iKTsKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VMaW5rLmNsYXNzTGlzdC5hZGQoImJpZy10ZXh0Iik7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTGluay5ocmVmID0gIi8iOwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZUxpbmsuZG93bmxvYWQgPSAidGhlcm1vLWNhbS5wbmciOwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZUxpbmsuaW5uZXJUZXh0ID0gIkRvd25sb2FkIEltYWdlIjsKCg==","classMethods":"ICAgICAgICAgICAgdHJheVVwZGF0ZSh0cmF5cykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy50cmF5ID0gdHJheXNbMF07CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmF5LnRyaWdnZXJNb2RlLnZhbHVlID09IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW51YWxUcmlnZ2VyQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRoaXMubWFudWFsVHJpZ2dlckJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRoaXMudHJheS5tYW51YWxUcmlnZ2VyLnZhbHVlID09IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW51YWxUcmlnZ2VyQnV0dG9uLmlubmVyVGV4dCA9ICJUYWtlIEltYWdlIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbnVhbFRyaWdnZXJCdXR0b24uaW5uZXJUZXh0ID0gIkFib3J0IjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmF5LmltYWdlRGF0YS52YWx1ZSAhPSBudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRoaXMudGltZXN0YW1wU3Bhbi5pbm5lclRleHQgPSBuZXcgRGF0ZSh0aGlzLnRyYXkudGltZVN0YW1wKS50b0xvY2FsZVN0cmluZygiZW4tU0UiLCB7IHRpbWVab25lOiAiRXVyb3BlL1N0b2NraG9sbSIgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JOYW1lU3Bhbi5pbm5lclRleHQgPSB0aGlzLnRyYXkuYWxpYXMudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZ20gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudHJheS5pbWFnZURhdGEudmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlQXJyYXkgPSB0aGlzLnBnbS5pbWFnZUFycmF5OwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYXkudHJhbnNwb3NlLnZhbHVlID09IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXJDYW52YXMud2lkdGggPSAiODAwIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlyQ2FudmFzLmhlaWdodCA9ICI2MDAiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXJDYW52YXMud2lkdGggPSAiODAwIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlyQ2FudmFzLmhlaWdodCA9ICIxMDY3IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbG90SW1hZ2UoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBwbG90SW1hZ2UoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsZXQgcmdiID0gW107CiAgICAgICAgICAgICAgICBsZXQgcGxvdyA9ICh0aGlzLnBnbS5taW52YWwgLSAyNzMxNSkgLyAxMDA7CiAgICAgICAgICAgICAgICBsZXQgcGhpZ2ggPSAodGhpcy5wZ20ubWF4dmFsIC0gMjczMTUpIC8gMTAwOwogICAgICAgICAgICAgICAgbGV0IHBkZWx0YSA9IHBoaWdoIC0gcGxvdzsKICAgICAgICAgICAgICAgIGZvciAobGV0IGlib3ggPSAwOyBpYm94IDwgOTsgKytpYm94KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBpbnRlbnNpdHkgPSBpYm94IC8gOC4wOwogICAgICAgICAgICAgICAgICAgIGxldCBwYm94ID0gTWF0aC5yb3VuZCgoKHBoaWdoIC0gcGxvdykgKiBpbnRlbnNpdHkgKyBwbG93KSAqIDEwLjApIC8gMTAuMDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yU2NhbGVCb3hTcGFuW2lib3hdLmlubmVyVGV4dCA9IHBib3gudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmhhbmNlbWVudExldmVsID09IC0yKSBpbnRlbnNpdHkgPSBNYXRoLnBvdyhpbnRlbnNpdHksIDEvMy4wKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmhhbmNlbWVudExldmVsID09IC0xKSBpbnRlbnNpdHkgPSBNYXRoLnBvdyhpbnRlbnNpdHksIDEvMi4wKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmhhbmNlbWVudExldmVsID09ICAwKSBpbnRlbnNpdHkgPSBNYXRoLnBvdyhpbnRlbnNpdHksIDEpOwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuaGFuY2VtZW50TGV2ZWwgPT0gIDEpIGludGVuc2l0eSA9IE1hdGgucG93KGludGVuc2l0eSwgMi4wKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmhhbmNlbWVudExldmVsID09ICAyKSBpbnRlbnNpdHkgPSBNYXRoLnBvdyhpbnRlbnNpdHksIDMuMCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sb3JTY2FsZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJnYiA9IHRoaXMuZ2V0UkdCKGludGVuc2l0eSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJnYlswXSA9IE1hdGguZmxvb3IoMjU1ICogaW50ZW5zaXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzFdID0gTWF0aC5mbG9vcigyNTUgKiBpbnRlbnNpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICByZ2JbMl0gPSBNYXRoLmZsb29yKDI1NSAqIGludGVuc2l0eSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZUJveERpdltpYm94XS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAicmdiKCIgKyByZ2JbMF0udG9TdHJpbmcoKSArICIsICIgKyByZ2JbMV0udG9TdHJpbmcoKSArICIsICIgKyByZ2JbMl0udG9TdHJpbmcoKSArICIpIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBjYW52YXNDb250ZXh0ID0gdGhpcy5mbGlyQ2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgICAgICAgICBsZXQgdGlwUG9pbnRlckNvbnRleHQgPSB0aGlzLnRpcFBvaW50ZXJDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICAgICAgICAgIGxldCB0aXBDb250ZXh0ID0gdGhpcy50aXBDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICAgICAgICAgIHRpcENvbnRleHQuZm9udCA9ICIzMHB4IEFyaWFsIjsKICAgICAgICAgICAgICAgIHRpcENvbnRleHQuZmlsbFN0eWxlID0gImN5YW4iOwogICAgICAgICAgICAgICAgdGlwUG9pbnRlckNvbnRleHQuZmlsbFN0eWxlID0gImN5YW4iOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sb3JTY2FsZSkgdGlwQ29udGV4dC5maWxsU3R5bGUgPSAiYmxhY2siOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sb3JTY2FsZSkgdGlwUG9pbnRlckNvbnRleHQuZmlsbFN0eWxlID0gImJsYWNrIjsKICAgICAgICAgICAgICAgIHRpcENvbnRleHQudGV4dEFsaWduID0gImxlZnQiOwoKICAgICAgICAgICAgICAgIGxldCBjYW52YXNXaWR0aCAgPSBOdW1iZXIodGhpcy5mbGlyQ2FudmFzLndpZHRoKTsKICAgICAgICAgICAgICAgIGxldCB3cmFwcGVyV2lkdGggPSBOdW1iZXIodGhpcy53cmFwcGVyRGl2LndpZHRoKTsKICAgICAgICAgICAgICAgIGxldCB4T2Zmc2V0S2x1Z2UgPSBNYXRoLnJvdW5kKCh3cmFwcGVyV2lkdGggLSBjYW52YXNXaWR0aCkgLyAyKTsKICAgICAgICAgICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSBOdW1iZXIodGhpcy5mbGlyQ2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgICAgICBsZXQgcmVjdFdpZHRoICA9IE1hdGgucm91bmQoY2FudmFzV2lkdGggIC8gdGhpcy5wZ20ubmNvbHMpOwogICAgICAgICAgICAgICAgbGV0IHJlY3RIZWlnaHQgPSBNYXRoLnJvdW5kKGNhbnZhc0hlaWdodCAvIHRoaXMucGdtLm5yb3dzKTsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpcm93ID0gMDsgaXJvdyA8IHRoaXMucGdtLm5yb3dzOyArK2lyb3cpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaWNvbCA9IDA7IGljb2wgPCB0aGlzLnBnbS5uY29sczsgKytpY29sKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludGVuc2l0eSA9IHRoaXMuaW1hZ2VBcnJheVtpcm93XVtpY29sXSAvIDI1Ni4wOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmhhbmNlbWVudExldmVsID09IC0yKSBpbnRlbnNpdHkgPSBNYXRoLnBvdyhpbnRlbnNpdHksIDEvMy4wKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5oYW5jZW1lbnRMZXZlbCA9PSAtMSkgaW50ZW5zaXR5ID0gTWF0aC5wb3coaW50ZW5zaXR5LCAxLzIuMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuaGFuY2VtZW50TGV2ZWwgPT0gIDApIGludGVuc2l0eSA9IE1hdGgucG93KGludGVuc2l0eSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuaGFuY2VtZW50TGV2ZWwgPT0gIDEpIGludGVuc2l0eSA9IE1hdGgucG93KGludGVuc2l0eSwgMi4wKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5oYW5jZW1lbnRMZXZlbCA9PSAgMikgaW50ZW5zaXR5ID0gTWF0aC5wb3coaW50ZW5zaXR5LCAzLjApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xvclNjYWxlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZ2IgPSB0aGlzLmdldFJHQihpbnRlbnNpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzBdID0gTWF0aC5mbG9vcihyZ2JbMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzFdID0gTWF0aC5mbG9vcihyZ2JbMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzJdID0gTWF0aC5mbG9vcihyZ2JbMl0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzBdID0gTWF0aC5mbG9vcigyNTUgKiBpbnRlbnNpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzFdID0gTWF0aC5mbG9vcigyNTUgKiBpbnRlbnNpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiWzJdID0gTWF0aC5mbG9vcigyNTUgKiBpbnRlbnNpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gInJnYigiICsgcmdiWzBdLnRvU3RyaW5nKCkgKyAiLCAiICsgcmdiWzFdLnRvU3RyaW5nKCkgKyAiLCAiICsgcmdiWzJdLnRvU3RyaW5nKCkgKyAiKSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFJlY3QoaWNvbCAqIHJlY3RXaWR0aCwgY2FudmFzSGVpZ2h0IC0gcmVjdEhlaWdodCAtIGlyb3cgKiByZWN0SGVpZ2h0LCByZWN0V2lkdGgsIHJlY3RIZWlnaHQpOwogICAgICAgICAgICAgICAgICAgIH0gICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTGluay5kb3dubG9hZCA9IHRoaXMudHJheS50eXBlICsgIi0iICsgdGhpcy50cmF5Lm5hbWUgKyAiLnBuZyI7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTGluay5ocmVmID0gdGhpcy5mbGlyQ2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb25Nb3VzZU1vdmUoZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbGV0IHRpcFBvaW50ZXJDb250ZXh0ID0gdGhpcy50aXBQb2ludGVyQ2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgICAgICAgICBsZXQgdGlwQ29udGV4dCA9IHRoaXMudGlwQ2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgICAgICAgICBsZXQgY2FudmFzV2lkdGggID0gTnVtYmVyKHRoaXMuZmxpckNhbnZhcy53aWR0aCk7CiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlcldpZHRoID0gTnVtYmVyKHRoaXMud3JhcHBlckRpdi53aWR0aCk7CiAgICAgICAgICAgICAgICBsZXQgeE9mZnNldEtsdWdlID0gTWF0aC5yb3VuZCgod3JhcHBlcldpZHRoIC0gY2FudmFzV2lkdGgpIC8gMik7CiAgICAgICAgICAgICAgICBsZXQgY2FudmFzSGVpZ2h0ID0gTnVtYmVyKHRoaXMuZmxpckNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgICAgICAgbGV0IHJlY3RXaWR0aCAgPSBNYXRoLnJvdW5kKGNhbnZhc1dpZHRoICAvIHRoaXMucGdtLm5jb2xzKTsKICAgICAgICAgICAgICAgIGxldCByZWN0SGVpZ2h0ID0gTWF0aC5yb3VuZChjYW52YXNIZWlnaHQgLyB0aGlzLnBnbS5ucm93cyk7CgogICAgICAgICAgICAgICAgbGV0IHBsb3cgPSAodGhpcy5wZ20ubWludmFsIC0gMjczMTUpIC8gMTAwOwogICAgICAgICAgICAgICAgbGV0IHBoaWdoID0gKHRoaXMucGdtLm1heHZhbCAtIDI3MzE1KSAvIDEwMDsKICAgICAgICAgICAgICAgIGxldCBwZGVsdGEgPSBwaGlnaCAtIHBsb3c7CgogICAgICAgICAgICAgICAgbGV0IGljb2wgPSBNYXRoLmZsb29yKGUubGF5ZXJYIC8gcmVjdFdpZHRoKTsKICAgICAgICAgICAgICAgIGlmIChpY29sIDwgMCkgaWNvbCA9IDA7CiAgICAgICAgICAgICAgICBpZiAoaWNvbCA+PSB0aGlzLnBnbS5uY29scykgaWNvbCA9IHRoaXMucGdtLm5jb2xzIC0gMTsKICAgICAgICAgICAgICAgIGxldCBpcm93ID0gTWF0aC5mbG9vcigoY2FudmFzSGVpZ2h0IC0gZS5sYXllclkpIC8gcmVjdEhlaWdodCk7CiAgICAgICAgICAgICAgICBpZiAoaXJvdyA8IDApIGlyb3cgPSAwOwogICAgICAgICAgICAgICAgaWYgKGlyb3cgPj0gdGhpcy5wZ20ubnJvd3MpIGlyb3cgPSB0aGlzLnBnbS5ucm93cyAtIDE7CiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IE1hdGguZmxvb3IoMTAwLjAgKiAocGRlbHRhICogdGhpcy5pbWFnZUFycmF5W2lyb3ddW2ljb2xdIC8gMjU2LjAgKyBwbG93KSkgLyAxMDA7CgogICAgICAgICAgICAgICAgdGhpcy50aXBQb2ludGVyQ2FudmFzLnN0eWxlLnRvcCA9IChlLmxheWVyWSAgLSB0aGlzLnRpcFBvaW50ZXJDYW52YXMuaGVpZ2h0IC8gMikudG9TdHJpbmcoKSAgKyAicHgiOwogICAgICAgICAgICAgICAgdGhpcy50aXBQb2ludGVyQ2FudmFzLnN0eWxlLmxlZnQgPSAoeE9mZnNldEtsdWdlICsgZS5sYXllclggLSB0aGlzLnRpcFBvaW50ZXJDYW52YXMud2lkdGggLyAyKS50b1N0cmluZygpICsgInB4IjsKCiAgICAgICAgICAgICAgICB0aXBQb2ludGVyQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy50aXBQb2ludGVyQ2FudmFzLndpZHRoLCB0aGlzLnRpcFBvaW50ZXJDYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgICAgIHRpcFBvaW50ZXJDb250ZXh0LmZpbGxSZWN0KCAwLCAwLCB0aGlzLnRpcFBvaW50ZXJDYW52YXMud2lkdGgsIHRoaXMudGlwUG9pbnRlckNhbnZhcy5oZWlnaHQpOwoKICAgICAgICAgICAgICAgIHRoaXMudGlwQ2FudmFzLnN0eWxlLnRvcCA9IChlLmxheWVyWSAtIHRoaXMudGlwQ2FudmFzLmhlaWdodCAtIHRoaXMudGlwUG9pbnRlckNhbnZhcy5oZWlnaHQpLnRvU3RyaW5nKCkgICsgInB4IjsKICAgICAgICAgICAgICAgIHRoaXMudGlwQ2FudmFzLnN0eWxlLmxlZnQgPSAoeE9mZnNldEtsdWdlICsgZS5sYXllclgpLnRvU3RyaW5nKCkgKyAicHgiOwogICAgICAgICAgICAgICAgdGlwQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy50aXBDYW52YXMud2lkdGgsIHRoaXMudGlwQ2FudmFzLmhlaWdodCk7CiAgICAgICAKICAgICAgICAgICAgICAgIGxldCBjb29yZCA9IHRoaXMudGlwUG9pbnRlckNhbnZhcy5zdHlsZS50b3AgKyAiLCIgKyB0aGlzLnRpcFBvaW50ZXJDYW52YXMuc3R5bGUubGVmdDsKICAgICAgICAgICAgICAgIHRpcENvbnRleHQuZmlsbFRleHQodGVtcC50b1N0cmluZygpICsgIiBDIiwgMCwgMzApOwoKICAgICAgICAgICAgfQogICAgICAgICAgICBtb3VzZUxlZnRDYW52YXMoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsZXQgdGlwQ29udGV4dCA9IHRoaXMudGlwQ2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgICAgICAgICB0aXBDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRpcENhbnZhcy53aWR0aCwgdGhpcy50aXBDYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgICAgIGxldCB0aXBQb2ludGVyQ29udGV4dCA9IHRoaXMudGlwUG9pbnRlckNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgICAgICAgICAgdGlwUG9pbnRlckNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMudGlwUG9pbnRlckNhbnZhcy53aWR0aCwgdGhpcy50aXBQb2ludGVyQ2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2V0UkdCKGludGVuc2l0eSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbGV0IHJnYiA9IFswLDAsMF07CiAgICAgICAgICAgICAgICBsZXQgcmdiQ29lZmYgPSBbCiAgICAgICAgICAgICAgICAgICAgWyAgNDguNiwgMzQ5LjAsICAgIDUuNzIsIC0xNzIuMF0sCiAgICAgICAgICAgICAgICAgICAgWy0xNjQuMCwgNzA1LjAsIC02NjcuMCAsICAzNzkuMF0sCiAgICAgICAgICAgICAgICAgICAgWyAxMzUuMCwgMzMyLjAsIC05NzYuMCwgICA1MzYuMF1dOwogICAgICAgICAgICAgICAgbGV0IGludGVuc2l0eVN0YXJ0ID0gWzAuMCwgMC4zMTc2LCAwLjBdOwogICAgICAgICAgICAgICAgbGV0IHBvd2VyID0gWzEuMCwgMC4wLCAwLjAsIDAuMF07CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDE7IGlpIDwgNDsgKytpaSkgcG93ZXJbaWldID0gcG93ZXJbaWkgLSAxXSAqIGludGVuc2l0eTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGlyZ2IgPSAwOyBpcmdiIDwgMzsgKytpcmdiKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmIChpbnRlbnNpdHkgPj0gaW50ZW5zaXR5U3RhcnRbaXJnYl0pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpcG93ID0gMDsgaXBvdyA8IDQ7ICsraXBvdykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiW2lyZ2JdID0gcmdiW2lyZ2JdICsgcmdiQ29lZmZbaXJnYl1baXBvd10gKiBwb3dlcltpcG93XTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZ2I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2V0UkdCUmFpbmJvdyhpbnRlbnNpdHkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxldCByZ2IgPSBbMCwwLDBdOwogICAgICAgICAgICAgICAgaWYgKCAoMCA8PSBpbnRlbnNpdHkpICYmIChpbnRlbnNpdHkgPD0gMC4yNSkgKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJnYlswXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgcmdiWzFdID0gTWF0aC5mbG9vcigyNTUgKiBpbnRlbnNpdHkgKiA0KTsgICAgCiAgICAgICAgICAgICAgICAgICAgcmdiWzJdID0gMjU1OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCAoMC4yNSA8IGludGVuc2l0eSkgJiYgKGludGVuc2l0eSA8PSAwLjUwKSApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmdiWzBdID0gMDsKICAgICAgICAgICAgICAgICAgICByZ2JbMV0gPSAyNTU7ICAgIAogICAgICAgICAgICAgICAgICAgIHJnYlsyXSA9IE1hdGguZmxvb3IoMjU1ICogKDAuNTAgLSBpbnRlbnNpdHkpICogNCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoICgwLjUwIDwgaW50ZW5zaXR5KSAmJiAoaW50ZW5zaXR5IDw9IDAuNzUpICkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZ2JbMF0gPSBNYXRoLmZsb29yKDI1NSAqIChpbnRlbnNpdHkgLSAwLjUwKSAqIDQpOwogICAgICAgICAgICAgICAgICAgIHJnYlsxXSA9IDI1NTsgICAgCiAgICAgICAgICAgICAgICAgICAgcmdiWzJdID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICggKDAuNzUgPCBpbnRlbnNpdHkpICYmIChpbnRlbnNpdHkgPD0gMS4wKSApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmdiWzBdID0gMjU1OwogICAgICAgICAgICAgICAgICAgIHJnYlsxXSA9IE1hdGguZmxvb3IoMjU1ICogKDEuMCAtIGludGVuc2l0eSkgKiA0KTsgICAgCiAgICAgICAgICAgICAgICAgICAgcmdiWzJdID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZ2I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdG9nZ2xlQ29sb3JTY2FsZSgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZSA9ICF0aGlzLmNvbG9yU2NhbGU7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xvclNjYWxlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZUJ1dHRvbi5pbm5lclRleHQgPSAiQ29sb3IiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZUJ1dHRvbi5pbm5lclRleHQgPSAiR3JheSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnBsb3RJbWFnZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRvZ2dsZUVuaGFuY2VkU2NhbGUoZGVsdGFFbmhhbmNlZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5lbmhhbmNlbWVudExldmVsID0gdGhpcy5lbmhhbmNlbWVudExldmVsICsgZGVsdGFFbmhhbmNlZDsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuaGFuY2VtZW50TGV2ZWwgPiAgMikgdGhpcy5lbmhhbmNlbWVudExldmVsID0gMjsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuaGFuY2VtZW50TGV2ZWwgPCAtMikgdGhpcy5lbmhhbmNlbWVudExldmVsID0gLTI7CiAgICAgICAgICAgICAgICB0aGlzLmVuaGFuY2VtZW50TGV2ZWxTcGFuLmlubmVyVGV4dCA9IHRoaXMuZW5oYW5jZW1lbnRMZXZlbC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgdGhpcy5wbG90SW1hZ2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjbGVhckltYWdlKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbGV0IGNhbnZhc0NvbnRleHQgPSB0aGlzLmZsaXJDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICAgICAgICAgIGxldCBjYW52YXNXaWR0aCAgPSBOdW1iZXIodGhpcy5mbGlyQ2FudmFzLndpZHRoKTsKICAgICAgICAgICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSBOdW1iZXIodGhpcy5mbGlyQ2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTsgCiAgICAgICAgICAgICAgICB0aGlzLnRpbWVzdGFtcFNwYW4uaW5uZXJUZXh0ID0gIi0iOyAgICAgICAKICAgICAgICAgICAgICAgIGZvciAobGV0IGlib3ggPSAwOyBpYm94IDwgOTsgKytpYm94KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBpbnRlbnNpdHkgPSBpYm94IC8gOC4wOwogICAgICAgICAgICAgICAgICAgIGxldCBwYm94ID0gMC4wOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JTY2FsZUJveFNwYW5baWJveF0uaW5uZXJUZXh0ID0gcGJveC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWFudWFsVHJpZ2dlcigpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxldCBzZXR0aW5nID0gMTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYXkubWFudWFsVHJpZ2dlci52YWx1ZSA9PSAxKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHNldHRpbmcgPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7ImN1YmUiOiAibWFudWFsVHJpZ2dlciIsICJ2YWx1ZSI6c2V0dGluZ307CiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uTXNnID0gCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0b3BpYyAgIDogdGhpcy5hcHAuYm94ICsgIi90cmF5LyIgKyAgdGhpcy50cmF5LnR5cGUgKyAiLyIgKyAgdGhpcy50cmF5Lm5hbWUgKyAiL3NldHRpbmcvc2V0dGluZyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQgOiBwYXlsb2FkCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuYXBwLnNlbmRBY3Rpb25Nc2coInNldHRpbmciLCJzZXR0aW5nIixhY3Rpb25Nc2cpOwogICAgICAgICAgICAgICAgdGhpcy50cmF5Lm1hbnVhbFRyaWdnZXIudmFsdWUgPSBzZXR0aW5nOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYXkubWFudWFsVHJpZ2dlci52YWx1ZSA9PSAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRoaXMubWFudWFsVHJpZ2dlckJ1dHRvbi5pbm5lclRleHQgPSAiVGFrZSBJbWFnZSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW51YWxUcmlnZ2VyQnV0dG9uLmlubmVyVGV4dCA9ICJBYm9ydCI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgICAgIGhhbmRsZUFyY2hpdmVDYXJkQ2xpY2soY2xpY2tEYXRhKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdGlvbkZpbHRlciA9ICAKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uOgogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2lkICAgICAgICAgICAgICAgICAgICAgICAgIDogICAwLCAKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxldCBxdWVyeUZpbHRlciA9IAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRhbmQgOgogICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50cmF5LnR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy50cmF5Lm5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YW1wIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZ3RlOiBjbGlja0RhdGFbMF0udGltZVN0YW1wIC0gMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbHRlOiBjbGlja0RhdGFbMF0udGltZVN0YW1wICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXSAKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuYXBwLnNlbmRBY3Rpb25Nc2coImN1c3RvbVJlYWRBcmNoaXZlIiwicmVhZERhdGFiYXNlIix7cXVlcnlGaWx0ZXI6cXVlcnlGaWx0ZXIsIHByb2plY3Rpb25GaWx0ZXI6cHJvamVjdGlvbkZpbHRlcn0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHB1dEN1c3RvbVJlYWRBcmNoaXZlKGRhdGEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMudGltZXN0YW1wU3Bhbi5pbm5lclRleHQgPSBuZXcgRGF0ZShkYXRhWzBdLnRpbWVTdGFtcCkudG9Mb2NhbGVTdHJpbmcoImVuLVNFIiwgeyB0aW1lWm9uZTogIkV1cm9wZS9TdG9ja2hvbG0iIH0pOwogICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JOYW1lU3Bhbi5pbm5lclRleHQgPSB0aGlzLnRyYXkuYWxpYXMudmFsdWU7OwogICAgICAgICAgICAgICAgdGhpcy5wZ20gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGFbMF0uaW1hZ2VEYXRhKSk7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlQXJyYXkgPSB0aGlzLnBnbS5pbWFnZUFycmF5OwogICAgICAgICAgICAgICAgaWYgKGRhdGFbMF0udHJhbnNwb3NlID09IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlyQ2FudmFzLndpZHRoID0gIjgwMCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlyQ2FudmFzLndpZHRoID0gIjQ1MCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnBsb3RJbWFnZSgpOwogICAgICAgICAgICB9Cg=="}},{"type":"ArchivePlotCard","config":{"title":"History","displayOnOpen":true,"buttonNumbers":[2,4,8,24,72,168],"timeUnit":"hour","initButtonIndex":3,"cubeList":[[{"name":"pixelMin","color":"blue","yaxis":"y1","label":"Min Temp","mode":"markers"},{"name":"pixelMax","color":"red","yaxis":"y1","label":"Max Temp","mode":"markers"}]],"plotlyDisplay":{"displayModeBar":true,"staticPlot":false},"plotlyLayout":{"showlegend":false,"legend":{"x":0,"y":1.15,"font":{"size":20}},"height":"600","width":"","xaxis":{"type":"date","tickangle":"90","tickfont":{"size":30},"tickformat":"%H:%M\\n%b-%d","fixedrange":true},"yaxis":{"title":"Temperature (C)","titlefont":{"color":"#557a95","size":30},"tickfont":{"color":"#557a95","size":30},"gridcolor":"#beceda","zerolinecolor":"#beceda","linecolor":"#beceda"},"yaxis2":{"title":"Relay State","titlefont":{"color":"#557a95","size":30},"tickfont":{"color":"#557a95","size":30},"gridcolor":"#beceda","zerolinecolor":"#beceda","linecolor":"#beceda","overlaying":"y","side":"right","rangemode":"tozero","fixedrange":true},"margin":{"t":30,"l":150,"r":100,"b":130}}}},{"type":"CubeRowCard","config":{"title":"Settings","displayOnOpen":false,"cubeRows":[{"type":"NumberReadCube","config":{"trayIndex":0,"cubeName":"pixelMin","cubeLabel":"Pixel Min. Temp.","round":2}},{"type":"NumberReadCube","config":{"trayIndex":0,"cubeName":"pixelMax","cubeLabel":"Pixel Max. Temp.","round":2}},{"type":"TextSetCube","config":{"trayIndex":0,"cubeName":"alias","cubeLabel":"Alias"}},{"type":"OnOffSetCube","config":{"trayIndex":0,"cubeName":"flipHorizontal","cubeLabel":"Flip Horizontal","onColor":"red","offColor":"green"}},{"type":"OnOffSetCube","config":{"trayIndex":0,"cubeName":"flipVertical","onColor":"red","offColor":"green","cubeLabel":"Flip Vertical"}},{"type":"NumberSetCube","config":{"trayIndex":0,"cubeName":"imageDelay","cubeLabel":"Image delay"}},{"type":"DropChoiceCube","config":{"trayIndex":0,"cubeName":"transpose","cubeLabel":"Display mode","choices":[{"value":0,"color":"green","text":"Landscape"},{"value":1,"color":"red","text":"Portrait"}]}},{"type":"DropChoiceCube","config":{"trayIndex":0,"cubeName":"triggerMode","cubeLabel":"Trigger mode","choices":[{"value":0,"color":"green","text":"Manual"},{"value":1,"color":"red","text":"Periodic"}]}},{"type":"DropChoiceCube","config":{"trayIndex":0,"cubeName":"scaleMode","cubeLabel":"Scale mode","choices":[{"value":0,"color":"red","text":"Manual"},{"value":1,"color":"green","text":"Automatic"}]}},{"type":"DropChoiceCube","config":{"trayIndex":0,"cubeName":"resMode","cubeLabel":"Chip Resolution","choices":[{"value":1,"color":"green","text":"80x60"},{"value":2,"color":"red","text":"160x120"}]}},{"type":"DropChoiceCube","config":{"trayIndex":0,"cubeName":"reset","cubeLabel":"Reset","choices":[{"value":0,"color":"green","text":"Off"},{"value":1,"color":"red","text":"On"}]}}]}},{"type":"IframeCard","config":{"title":"Help","displayOnOpen":false,"url":"https://docs.google.com/presentation/d/e/2PACX-1vQ2wEPbyUk207PqBLWHNtoq9ik_yF-6m0XPQe_v58KyUUb9exbtFzebh534u5F9u7UMSj74eHolqqst/embed?start=true&loop=true&delayms=3000","extraAttr":{"frameborder":"0","width":"100%","height":"100%","allowfullscreen":"true","mozallowfullscreen":"true","webkitallowfullscreen":"true"},"height":"75vw"}},{"type":"UserCard","config":{"title":"User","displayOnOpen":false}}]}
